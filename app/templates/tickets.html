{% extends "base.html" %} <!-- Assurez-vous d'avoir un base.html, sinon retirez cette ligne -->

<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Nouvelle Demande - {{ service.value }}</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-50 min-h-screen flex items-center justify-center p-6">

    <div class="bg-white max-w-2xl w-full rounded-2xl shadow-xl border border-slate-200 overflow-hidden">
        
        <!-- Header coloré selon le service -->
        <div class="{% if service_name == 'INFO' %}bg-blue-600{% elif service_name == 'DAF' %}bg-purple-600{% elif service_name == 'TECH' %}bg-orange-600{% else %}bg-emerald-600{% endif %} p-6 text-white">
            <h1 class="text-2xl font-bold">Nouvelle Demande : {{ service.value }}</h1>
            <p class="text-white/80 text-sm mt-1">Remplissez ce formulaire pour soumettre votre demande.</p>
        </div>

        <form method="POST" class="p-8 space-y-6">
            
            <!-- Titre -->
            <div>
                <label class="block text-sm font-bold text-slate-700 mb-2">Objet de la demande</label>
                <input type="text" name="title" required 
                    class="w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition"
                    placeholder="Ex: Demande de nouvel écran...">
            </div>

            <!-- Champ Spécifique Informatique -->
            {% if service_name == 'INFO' %}
            <div>
                <label class="block text-sm font-bold text-slate-700 mb-2">Nom de la machine (Hostname)</label>
                <div class="flex gap-2">
                    <input type="text" name="hostname" id="hostname" 
                        class="w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-lg font-mono text-sm"
                        placeholder="DESKTOP-XXXX">
                    <button type="button" onclick="alert('Fonction auto-detect à venir via script JS')" class="px-4 py-2 bg-slate-200 text-slate-600 rounded-lg text-xs font-bold uppercase">Detect</button>
                </div>
                <p class="text-xs text-slate-400 mt-1">Laissez vide si non applicable.</p>
            </div>
            {% endif %}

            <!-- Description -->
            <div>
                <label class="block text-sm font-bold text-slate-700 mb-2">Description détaillée</label>
                <textarea name="description" rows="5" required 
                    class="w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition"
                    placeholder="Décrivez votre besoin ou le problème rencontré..."></textarea>
            </div>

            <!-- Actions -->
            <div class="flex items-center justify-end gap-4 pt-4 border-t border-slate-100">
                <a href="{{ url_for('main.user_portal') }}" class="text-slate-500 font-medium hover:text-slate-700">Annuler</a>
                <button type="submit" class="bg-slate-900 hover:bg-slate-800 text-white font-bold py-3 px-8 rounded-xl transition shadow-lg">
                    Envoyer la demande
                </button>
            </div>

        </form>
    </div>

</body>
</html>
